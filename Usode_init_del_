class ConexionBaseDatos:
    """
    Clase que simula la conexiÃ³n a una base de datos.
    Utiliza un constructor (__init__) para abrir la conexiÃ³n
    y un destructor (__del__) para cerrarla automÃ¡ticamente.
    """

    def __init__(self, nombre_bd):
        # Constructor: se ejecuta automÃ¡ticamente al crear el objeto
        self.nombre_bd = nombre_bd
        self.conectado = False
        self.conectar()

    def conectar(self):
        """
        Simula la apertura de una conexiÃ³n a la base de datos.
        """
        self.conectado = True
        print(f"ğŸ”Œ ConexiÃ³n establecida con la base de datos: {self.nombre_bd}")

    def realizar_consulta(self, consulta):
        """
        Simula la ejecuciÃ³n de una consulta en la base de datos.
        """
        if self.conectado:
            print(f"ğŸ“„ Ejecutando consulta en {self.nombre_bd}: {consulta}")
        else:
            print("âš ï¸ No hay conexiÃ³n a la base de datos.")

    def cerrar_conexion(self):
        """
        Cierra la conexiÃ³n a la base de datos.
        """
        if self.conectado:
            print(f"ğŸ”’ ConexiÃ³n cerrada con la base de datos: {self.nombre_bd}")
            self.conectado = False

    def __del__(self):
        # Destructor: se ejecuta automÃ¡ticamente cuando el objeto es destruido
        print("ğŸ§¹ Llamando al destructor...")
        self.cerrar_conexion()


# -------------------------------
# ğŸ§ª Uso del programa
# -------------------------------

def main():
    print("ğŸ” Iniciando programa...")
    
    # Creamos un objeto de la clase ConexionBaseDatos
    conexion = ConexionBaseDatos("tienda_virtual")

    # Realizamos una consulta
    conexion.realizar_consulta("SELECT * FROM productos")

    # El objeto serÃ¡ destruido al final del programa o al usar 'del'
    del conexion

    print("âœ… Fin del programa.")

# Ejecutar solo si es el programa principal
if __name__ == "__main__":
    main()
